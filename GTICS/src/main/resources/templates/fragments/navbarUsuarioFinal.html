<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta content="Codescandy" name="author" />
    <title>Productos</title>
    <!-- jQuery (si aún no lo has incluido) -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- Toastr CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">

    <link th:href="@{/libs/slick-carousel/slick/slick.css}" rel="stylesheet" />
    <link th:href="@{/libs/slick-carousel/slick/slick-theme.css}" rel="stylesheet" />
    <link th:href="@{/libs/tiny-slider/dist/tiny-slider.css}" rel="stylesheet" />

    <!-- Favicon icon-->

    <!-- Libs CSS -->
    <link th:href="@{/libs/bootstrap-icons/font/bootstrap-icons.min.css}" rel="stylesheet" />
    <link th:href="@{/libs/feather-webfont/dist/feather-icons.css}" rel="stylesheet" />
    <link th:href="@{/libs/simplebar/dist/simplebar.min.css}" rel="stylesheet" />

    <!-- Theme CSS -->
    <link th:href="@{/css/theme.min.css}" rel="stylesheet" />
    <style>
        /* Definir una transición suave para el padding-top del body */
        .navbar-scroll {
            transition: all 0.3s ease;
            background-color: transparent;
            box-shadow: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1030;
            height: 80px;
        }

        .navbar-scroll.scrolled {
            background-color: rgba(255, 255, 255, 0.95);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            height: 60px;
        }

        body.scrolled {
            padding-top: 60px;
        }
    </style>

<style>
    /* Animación de rebote */
    @keyframes bounce {
        0%, 20%, 50%, 80%, 100% {
            transform: translateY(0);
        }
        40% {
            transform: translateY(-10px);
        }
        60% {
            transform: translateY(-5px);
        }
    }

    /* Clase para activar la animación */
    .animate-bounce {
        animation: bounce 0.5s;
    }

    /* Alternativamente, una animación de escala */
    @keyframes scaleUp {
        0% {
            transform: scale(1);
        }
        50% {
            transform: scale(1.3);
        }
        100% {
            transform: scale(1);
        }
    }

    .animate-scale {
        animation: scaleUp 0.5s;
    }

</style>
    <style>
        .dropdown-menu {
            top: 100% !important;
            bottom: auto !important;
            transform: none !important;
        }
    </style>
</head>
<body>
<!-- Fragmento de Navbar --->
<div th:fragment="navbar">
    <!-- navbar -->
    <!-- Navbar para pantallas grandes -->
    <header>
        <div class="container">

            <div class="row align-items-center pt-6 pb-4 mt-4 mt-lg-0">
                <div class="col-xl-2 col-md-3 mb-4 mb-md-0 col-12 text-center text-md-start">
                    <a th:href="@{/UsuarioFinal/pagPrincipal}"><img th:src="@{/images/logo/logoGTICSv2.png}" alt="" class="img-fluid" width="200" /></a>
                </div>

                <div class="col-xxl-6 col-xl-5 col-lg-6 col-md-9">
                    <form class="d-flex" th:action="@{/UsuarioFinal/buscarProductos}" method="get" role="search">
                        <div class="input-group" style="position: relative;">
        <span class="input-group-text">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.415l-3.85-3.85a1.007 1.007 0 0 0-.115-.098zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
            </svg>
        </span>
                            <input class="form-control" type="search" name="nombre" placeholder="Buscar productos..." aria-label="Buscar" id="searchInput" autocomplete="off">
                            <button class="btn btn-primary" type="submit">Buscar</button>
                            <div id="searchHistory" class="position-absolute w-100 bg-white border rounded-bottom shadow-lg" style="top: 100%; display: none; z-index: 1000;">
                                <div class="history-header border-bottom p-3 bg-light">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div class="d-flex align-items-center">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-clock-history me-2 text-primary" viewBox="0 0 16 16">
                                                <path d="M8.515 1.019A7 7 0 0 0 8 1V0a8 8 0 0 1 .589.022l-.074.997zm2.004.45a7.003 7.003 0 0 0-.985-.299l.219-.976c.383.086.76.2 1.126.342l-.36.933zm1.37.71a7.01 7.01 0 0 0-.439-.27l.493-.87a8.025 8.025 0 0 1 .979.654l-.615.789a6.996 6.996 0 0 0-.418-.302zm1.834 1.79a6.99 6.99 0 0 0-.653-.796l.724-.69c.27.285.52.59.747.91l-.818.576zm.744 1.352a7.08 7.08 0 0 0-.214-.468l.893-.45a7.976 7.976 0 0 1 .45 1.088l-.95.313a7.023 7.023 0 0 0-.179-.483zm.53 2.507a6.991 6.991 0 0 0-.1-1.025l.985-.17c.067.386.106.778.116 1.17l-1 .025zm-.131 1.538c.033-.17.06-.339.081-.51l.993.123a7.957 7.957 0 0 1-.23 1.155l-.964-.267c.046-.165.086-.332.12-.501zm-.952 2.379c.184-.29.346-.594.486-.908l.914.405c-.16.36-.345.706-.555 1.038l-.845-.535zm-.964 1.205c.122-.122.239-.248.35-.378l.758.653a8.073 8.073 0 0 1-.401.432l-.707-.707z"/>
                                                <path d="M8 1a7 7 0 1 0 4.95 11.95l.707.707A8.001 8.001 0 1 1 8 0v1z"/>
                                                <path d="M7.5 3a.5.5 0 0 1 .5.5v5.21l3.248 1.856a.5.5 0 0 1-.496.868l-3.5-2A.5.5 0 0 1 7 9V3.5a.5.5 0 0 1 .5-.5z"/>
                                            </svg>
                                            <span class="fw-bold">Historial de búsqueda</span>
                                        </div>
                                        <div class="d-flex align-items-center">
                                            <button id="clearHistory" class="btn btn-link btn-sm text-decoration-none p-0">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-trash3 me-1" viewBox="0 0 16 16">
                                                    <path d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5ZM11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H2.506a.58.58 0 0 0-.01 0H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1h-.995a.59.59 0 0 0-.01 0H11Zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5h9.916Zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47ZM8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5Z"/>
                                                </svg>
                                                Limpiar historial
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <div id="historyItems" class="history-items"></div>
                                <div id="emptyHistory" class="py-4 text-center text-muted" style="display: none;">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-search mb-2 text-secondary" viewBox="0 0 16 16">
                                        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.415l-3.85-3.85a1.007 1.007 0 0 0-.115-.098zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                                    </svg>
                                    <p class="mb-0">No hay búsquedas recientes</p>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

                <div class="col-xxl-4 col-xl-5 col-lg-3 d-none d-lg-block">
                    <div class="d-flex align-items-center justify-content-between ms-4">
                        <div class="text-center ms-6">
                            <a data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" href="#offcanvasExample" role="button" aria-controls="offcanvasRight" class="text-reset">
                                <div class="text-center">
                                    <div>
                                        <a class="text-muted position-relative" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" href="#offcanvasExample" role="button" aria-controls="offcanvasRight">
                                            <!-- SVG del icono de carrito -->
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-shopping-cart">
                                                <circle cx="9" cy="21" r="1"></circle>
                                                <circle cx="20" cy="21" r="1"></circle>
                                                <path d="M1 1h4l2 13h13"></path>
                                                <path d="M6 6h15l-1.68 8.39a1 1 0 0 1-1 .61H7"></path>
                                            </svg>

                                            <!-- Contador del Carrito -->
                                            <span id="carrito-count-desktop" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-success"
                                                  th:text="${totalCantidadProductos}">
            0
        </span>
                                        </a>
                                    </div>
                                    <p class="mb-0 d-none d-xl-block small">Carrito de Compras</p>
                                </div>
                            </a>
                        </div>

                        <div class="text-center">
                            <div class="dropdown">
                                <a href="#" class="text-reset" data-bs-toggle="dropdown" aria-expanded="false">
                                    <div class="lh-1">
                                        <div class="position-relative d-inline-block mb-2">
                                            <i class="bi bi-bell fs-4"></i>
                                            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                                                  1
                                                   <span class="visually-hidden">unread messages</span>
                                               </span>
                                        </div>
                                        <p class="mb-0 d-none d-xl-block small">Notificación</p>
                                    </div>
                                </a>

                                <div class="dropdown-menu dropdown-menu-lg p-0">
                                    <div>
                                        <div class="border-bottom p-5 d-flex justify-content-between align-items-center">
                                            <div>
                                                <h5 class="mb-1">Notificaciones</h5>
                                                <p class="mb-0 small">Tienes 2 mensajes sin leer</p>
                                            </div>
                                            <a href="#!" class="text-muted">
                                                <a href="#" class="btn btn-ghost-secondary btn-icon rounded-circle" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-title="Marcar como leído">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-check2-all text-success" viewBox="0 0 16 16">
                                                        <path d="M12.354 4.354a.5.5 0 0 0-.708-.708L5 10.293 1.854 7.146a.5.5 0 1 0-.708.708l3.5 3.5a.5.5 0 0 0 .708 0l7-7zm-4.208 7-.896-.897.707-.707.543.543 6.646-6.647a.5.5 0 0 1 .708.708l-7 7a.5.5 0 0 1-.708 0z"/>
                                                        <path d="m5.354 7.146.896.897-.707.707-.897-.896a.5.5 0 1 1 .708-.708z"/>
                                                    </svg>
                                                </a>
                                            </a>
                                        </div>
                                        <li class="list-group-item px-5 py-4 list-group-item-action">
                                            <a href="#!" class="text-muted">
                                                <div class="d-flex">
                                                    <div class="ms-4">
                                                        <p class="mb-1">
                                                            <span class="text-dark">Título de notificación 1</span>
                                                            Descripción notificación 1
                                                        </p>
                                                        <span>
															<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-clock text-muted" viewBox="0 0 16 16">
																<path d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"/>
																<path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z"/>
															</svg>
															<small class="ms-2">Hace 1 minuto</small>
														</span>
                                                    </div>
                                                </div>
                                            </a>
                                        </li>
                                        <div class="border-top px-5 py-4 text-center">
                                            <a href="#!">Ver todas</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="ms-6 text-center">
                            <a href="#" class="text-reset" data-bs-toggle="modal" data-bs-target="#userModal">
                                <div class="lh-1">
                                    <li class="list-inline-item dropdown">
                                        <a href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                            <img class="avatar avatar-sm rounded-circle"
                                                 th:src="${usuario.getFoto() != null ? '/usuarioFinal/' + usuario.id : '/images/avatar/avatarGenerico.png'}"
                                                 alt="Foto del Usuario"
                                            />
                                        </a>
                                        <div class="dropdown-menu dropdown-menu-end p-0" style="width: 180px; font-size: 0.85rem; padding: 0.5rem;"> <!-- Ajuste de ancho y padding -->
                                            <div class="lh-1 px-5 py-4 border-bottom">
                                                <h5 class="mb-1 h6" th:text="${session.usuario.nombre} + ' ' + ${session.usuario.apellidoPaterno}"></h5>
                                                <small>Rol: Usuario Final</small>
                                            </div>
                                            <div class="border-top px-0 py-1">
                                                <a th:href="@{/UsuarioFinal/miPerfil}" style="display: block; width: 100%; padding: 0.5rem; text-align: center;">
                                                    Mi perfil
                                                </a>
                                            </div>
                                            <div class="border-top px-0 py-1">
                                                <a th:href="@{'UsuarioFinal/solicitudAgente?idUsuario=' + ${usuario.id}}" data-bs-toggle="modal" data-bs-target="#addRequestAgent"
                                                   style="display: block; width: 100%; padding: 0.5rem; text-align: center;">
                                                    Solicitar ser agente
                                                </a>
                                            </div>
                                            <div class="border-top px-0 py-1" th:if="${session['isImpersonating'] == null}">
                                                <a th:href="@{/ExpressDealsLogin}"
                                                   style="display: block; width: 100%; padding: 0.5rem; text-align: center;">
                                                    Cerrar sesión
                                                </a>
                                            </div>

                                        </div>
                                    </li>
                                    <p class="mb-0 d-none d-xl-block small">Perfil</p>
                                </div>
                            </a>
                        </div>



                    </div>
                </div>
            </div>
        </div>
    </header>
    <nav class="navbar navbar-expand-lg navbar-light navbar-default p-0 p-sm-0 navbar-offcanvas-color" aria-label="Offcanvas navbar large">
        <div class="container">
            <div class="offcanvas offcanvas-start" tabindex="-1" id="navbar-default" aria-labelledby="navbar-defaultLabel">
                <div class="offcanvas-header pb-1">
                    <a href="./index.html"><img src="../assets/images/logo/freshcart-logo.svg" alt="eCommerce HTML Template" /></a>
                    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                </div>
                <div class="offcanvas-body">
                    <div>
                        <ul class="navbar-nav align-items-center">
                            <li class="dropdown me-6 d-none d-lg-block">
                                <a href="#" class="text-inherit" data-bs-toggle="dropdown" aria-expanded="false">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-text-left me-2" viewBox="0 0 16 16">
                                        <path
                                                fill-rule="evenodd"
                                                d="M2 12.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"></path>
                                    </svg>
                                    Todas las categorías
                                </a>

                                <ul class="dropdown-menu dropdown-menu-lg dropdown-menu-bottom">
                                    <li th:each="categoria : ${categorias}" class="dropdown-menu-list">
                                        <a th:href="@{'/UsuarioFinal/categorias/' + ${categoria.id}}" class="dropdown-item d-flex justify-content-between mb-1 py-1">
                                            <div>
                                                <svg width="24" height="24" viewBox="0 0 56 56" fill="#3d4f58" xmlns="http://www.w3.org/2000/svg">
                                                    <path
                                                            d="M5.552 4.492c-.866.461-1.259.989-1.259 1.691 0 .528.117.739 1.345 2.441 1.38 1.914 2.031 2.908 2.619 4l.44.817-.441.443c-.57.571-1.258 1.618-1.562 2.377-.488 1.219-.553 1.833-.484 4.552.086 3.344.063 3.438-1.322 5.563-3.071 4.71-3.467 10.38-1.059 15.17 2.11 4.199 5.779 7.017 10.451 8.028 1.317.285 4.424.309 5.74.044 1.2-.242 2.463-.661 3.593-1.194l.98-.462.234.301c.71.915 3.156 2.749 4.598 3.449 1.351.656 2.078.68 5.062.167 1.944-.334 2.488-.327 4.337.057 2.919.605 3.775.501 5.844-.71 2.809-1.644 4.954-3.989 6.433-7.033 1.184-2.436 1.726-4.8 1.726-7.529 0-5.719-2.753-10.986-7.364-14.089-1.117-.752-2.25-1.345-2.748-1.438l-.344-.065.306-.339c1.465-1.622 2.695-4.262 3.013-6.47l.063-.437-.36-.03c-.345-.028-.361-.044-.389-.393l-.03-.364-.904.057a8.632 8.632 0 0 0-5.733 2.661c-.295.309-.537.534-.537.499-.001-.034-.064-.751-.141-1.592-.161-1.741-.302-2.174-.844-2.587-.311-.238-.446-.274-1.117-.303-.63-.026-.829.002-1.142.161-.777.396-.981.914-.864 2.186.044.472.103 1.142.13 1.487l.051.628-.683-.683c-1.416-1.416-3.251-2.255-5.362-2.451l-.666-.062-.738-1.41c-2.178-4.161-3.174-5.38-5.154-6.307-1.09-.51-1.935-.678-3.443-.686-1.828-.01-3.34.312-4.9 1.042a9.268 9.268 0 0 1-1.4.511c-.36.089-.962.307-1.34.485-.377.179-.723.302-.768.274-.045-.028-.469-.557-.943-1.174-.586-.767-.971-1.18-1.211-1.303-.481-.245-1.233-.236-1.713.02m2.094 2.643a50.969 50.969 0 0 1 1.627 2.227c.562.842 1.607 2.753 1.538 2.814-.085.076-.845.433-.865.407a49.22 49.22 0 0 1-.518-.916c-.589-1.054-1.261-2.071-2.63-3.975-.556-.774-1.011-1.457-1.011-1.518 0-.15.554-.477.708-.418.068.026.586.647 1.151 1.379m11.561-.924c.396.08 1.073.312 1.506.517.65.308.924.513 1.587 1.185.776.787 1.151 1.344 2.241 3.324l.303.551-.639-.065c-3.356-.339-6.537-1.796-8.756-4.013-.52-.519-.88-.946-.815-.968.16-.053 1.526.225 2.259.461 1.281.411 2.653 1.054 3.641 1.707.563.371 1.045.654 1.071.627.146-.145-.034-.347-.799-.894-.994-.711-2.754-1.615-4.006-2.058l-.887-.313.374-.062c.205-.034.436-.076.513-.092.407-.086 1.778-.033 2.407.093M13.66 7.966c1.401 1.737 3.681 3.322 6.046 4.201 1.675.623 3.918 1.084 5.287 1.088.803.002.954.064.954.391 0 .894.68 3.212 1.311 4.467.426.848 1.333 2.136 2.049 2.91.592.641.643.724.444.724-.498 0-1.203.309-2.085.915l-.928.638-.793-.551c-.435-.303-1.38-.848-2.098-1.212-1.102-.558-1.404-.76-1.925-1.286-.772-.781-1.097-1.434-1.528-3.067-.445-1.682-.816-2.371-1.818-3.374-1.393-1.395-2.794-1.961-4.97-2.012l-1.281-.03-.544-1.054c-.3-.58-.824-1.484-1.167-2.01l-.621-.957.207-.135c.386-.253 1.138-.552 1.793-.714l.654-.162.186.218c.103.119.475.575.827 1.012m1.273 5.433c1.492.35 2.805 1.337 3.47 2.608.188.359.452 1.087.586 1.616.437 1.726.743 2.384 1.555 3.351.598.712 1.395 1.288 2.556 1.848.565.272 1.356.71 1.758.973l.732.479-.638.674c-3.328 3.512-5.01 8.519-4.507 13.415.281 2.742 1.276 5.584 2.694 7.694l.479.713-.866.409c-1.863.881-3.618 1.215-5.994 1.14-2.274-.072-3.719-.439-5.695-1.447-3.677-1.875-6.298-5.395-7.104-9.539-.257-1.322-.234-3.725.049-5.034.428-1.982 1.088-3.53 2.284-5.359.82-1.254.906-1.417 1.185-2.253.211-.631.219-.763.225-3.734.005-2.719.025-3.14.175-3.593.432-1.304 1.033-2.154 2-2.833.859-.602 1.179-.773 1.976-1.051.745-.26 2.153-.295 3.08-.077m21.083.064c.081.219.109.498.336 3.311l.138 1.701-.268.679c-.146.374-.284.739-.306.812-.022.072-.149-.18-.283-.56-.222-.629-.249-.867-.302-2.606-.032-1.052-.094-2.249-.138-2.66-.044-.411-.061-.778-.038-.817.024-.038.209-.07.413-.07.298 0 .385.041.448.21m-7.036 1.346c.308.075.896.299 1.307.498 1.822.883 3.144 2.497 3.972 4.847.296.84.779 2.799.708 2.87-.01.01-.407-.166-.882-.392-2.548-1.21-4.469-3.093-5.616-5.505-.347-.728-.842-2.16-.842-2.433 0-.154.379-.122 1.353.115m15.111.008c-.127.551-.53 1.677-.836 2.339-1.045 2.262-3.088 4.279-5.504 5.432-1.073.512-1.086.509-.92-.211.414-1.805 1.18-3.749 1.84-4.671 1.147-1.604 2.636-2.606 4.459-3.002.937-.203 1.031-.192.961.113m-.7 8.239c.482.256 1.217.707 1.633 1.002 1.007.713 2.66 2.385 3.44 3.478 1.207 1.69 2.219 4.091 2.656 6.297.262 1.32.232 4.607-.052 5.927-.456 2.109-1.295 4.096-2.452 5.805-.801 1.182-2.749 3.126-3.894 3.886-.479.318-1.235.755-1.68.973-.765.373-.852.394-1.602.387-.519-.005-1.293-.115-2.24-.317-1.943-.415-3.19-.427-5.133-.046-.898.175-1.668.267-2.288.272-.927.007-.941.003-1.82-.425a14.925 14.925 0 0 1-1.726-1.026c-1.094-.776-2.73-2.419-3.521-3.536-4.301-6.077-3.704-14.517 1.4-19.8 1.469-1.52 2.983-2.612 3.789-2.733.629-.094 1.555.146 3.458.897 1.321.521 1.731.722 1.733.846.002.192.006.193.339.066.174-.066.395-.067.689-.004.913.195 2.076-.217 3.907-1.386 1.913-1.222 2.072-1.249 3.364-.563"
                                                            fill-rule="evenodd"></path>
                                                </svg>

                                                <span class="ms-1" th:text="${categoria.nombreCategoria}"></span>
                                                <i th:if="${!categoria.subcategorias.isEmpty}" class="feather-icon icon-chevron-right"></i>
                                            </div>

                                        </a>

                                        <div th:if="${!categoria.subcategorias.isEmpty}" class="dropdown-menu-list-submenu">
                                            <div>
                                                <ul class="list-unstyled">
                                                    <li th:each="subcategoria : ${categoria.subcategorias}">
                                                        <a class="dropdown-item"
                                                           th:href="@{'/UsuarioFinal/subcategoria/' + ${subcategoria.id}}"
                                                           th:text="${subcategoria.nombreSubcategoria}">
                                                        </a>
                                                    </li>
                                                </ul>
                                            </div>

                                        </div>
                                    </li>


                                </ul>
                            </li>
                            <li class="nav-item ">
                                <a class="nav-link " th:href="@{/UsuarioFinal/pagPrincipal}" role="button"  aria-expanded="false">Inicio</a>
                            </li>

                            <li class="nav-item ">
                                <a class="nav-link" th:href="@{/UsuarioFinal/listaProductos}" role="button" aria-expanded="false">Productos</a>

                            </li>

                            <li class="nav-item">
                                <a class="nav-link" th:href="@{/UsuarioFinal/listaMisOrdenes}" role="button" aria-expanded="false">Mis compras</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Foro</a>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" th:href="@{/UsuarioFinal/Reviews}">Reseñas</a></li>

                                    <li><a class="dropdown-item" th:href="@{/UsuarioFinal/faq}">Preguntas frecuentes</a></li>
                                </ul>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" role="button" aria-expanded="false" th:href="@{/UsuarioFinal/chatbot}">Soporte Técnico</a>
                            </li>
                            <li class="nav-item"  th:if="${session['isImpersonating'] != null}">
                                <a class="nav-link" role="button" aria-expanded="false" href="/revertImpersonation">Regresar</a>
                            </li>



                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </nav>


    <!-- Navbar para pantallas pequeñas -->
    <div class="border-bottom d-lg-none navbar-scroll">
        <div class="py-5">
            <div class="container">
                <div class="row w-100 align-items-center gx-lg-2 gx-0">
                    <div class="col-xxl-2 col-lg-3 col-md-6 col-5">
                        <a class="navbar-brand" th:href="@{/UsuarioFinal/pagPrincipal}">
                            <img th:src="@{/images/logo/logoGTICSv2.png}" alt="" width="200" height="auto" />
                        </a>
                    </div>
                    <div class="col-lg-2 col-xxl-2 text-end col-md-6 col-7">
                        <div class="list-inline">
                            <ul class="list-inline">
                                <!-- Shopcart icon -->
                                <!-- Icono de Carrito -->
                                <li class="list-inline-item me-5">
                                    <a class="text-muted position-relative" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" href="#offcanvasExample" role="button" aria-controls="offcanvasRight">
                                        <!-- SVG del icono de carrito -->
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-shopping-cart">
                                            <circle cx="9" cy="21" r="1"></circle>
                                            <circle cx="20" cy="21" r="1"></circle>
                                            <path d="M1 1h4l2 13h13"></path>
                                            <path d="M6 6h15l-1.68 8.39a1 1 0 0 1-1 .61H7"></path>
                                        </svg>

                                        <!-- Contador del Carrito -->
                                        <span id="carrito-count-mobile" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-success"
                                              th:text="${totalCantidadProductos}">
            0
        </span>
                                    </a>
                                </li>

                                <!-- Notifications icon -->
                                <li class="list-inline-item dropdown">
                                    <a class="position-relative btn-icon btn-ghost-secondary btn rounded-circle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        <i class="bi bi-bell fs-5"></i>
                                        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger mt-2 ms-n2">
										2
										<span class="visually-hidden">Mensajes sin leer</span>
									</span>
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-end dropdown-menu-lg p-0 border-0">
                                        <div class="border-bottom p-5 d-flex justify-content-between align-items-center">
                                            <div>
                                                <h5 class="mb-1">Notificaciones</h5>
                                                <p class="mb-0 small">Tienes 2 mensajes sin leer</p>
                                            </div>
                                            <a href="#!" class="text-muted">
                                                <a href="#" class="btn btn-ghost-secondary btn-icon rounded-circle" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-title="Marcar como leído">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-check2-all text-success" viewBox="0 0 16 16">
                                                        <path d="M12.354 4.354a.5.5 0 0 0-.708-.708L5 10.293 1.854 7.146a.5.5 0 1 0-.708.708l3.5 3.5a.5.5 0 0 0 .708 0l7-7zm-4.208 7-.896-.897.707-.707.543.543 6.646-6.647a.5.5 0 0 1 .708.708l-7 7a.5.5 0 0 1-.708 0z"/>
                                                        <path d="m5.354 7.146.896.897-.707.707-.897-.896a.5.5 0 1 1 .708-.708z"/>
                                                    </svg>
                                                </a>
                                            </a>
                                        </div>
                                        <ul class="list-group list-group-flush notification-list-scroll fs-6">
                                            <li class="list-group-item px-5 py-4 list-group-item-action">
                                                <a href="#!" class="text-muted">
                                                    <div class="d-flex">
                                                        <div class="ms-4">
                                                            <p class="mb-1">
                                                                <span class="text-dark">Título de notificación 1</span>
                                                                Descripción notificación 1
                                                            </p>
                                                            <span>
															<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-clock text-muted" viewBox="0 0 16 16">
																<path d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"/>
																<path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z"/>
															</svg>
															<small class="ms-2">Hace 1 minuto</small>
														</span>
                                                        </div>
                                                    </div>
                                                </a>
                                            </li>
                                            <!-- Más notificaciones -->
                                        </ul>
                                        <div class="border-top px-5 py-4 text-center">
                                            <a href="#!">Ver todas</a>
                                        </div>
                                    </div>
                                </li>
                                <!-- Avatar -->
                                <li class="list-inline-item dropdown">
                                    <a href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        <img th:src="@{/images/avatar/avatar-1.jpg}" alt="" class="avatar avatar-md rounded-circle" />
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-end p-0" style="width: 100%; line-height: 0.6rem">
                                        <div class="lh-1 px-4 py-3 border-bottom text-center">
                                            <h5 class="mb-1 h6" th:text="${session.usuario.nombre} + ' ' + ${session.usuario.apellidoPaterno}"></h5>
                                            <small>Usuario </small>
                                        </div>
                                        <div class="border-top px-0 py-2">
                                            <a th:href="@{/UsuarioFinal/miPerfil}" style="display: block; width: 100%; padding: 0.75rem; text-align: center; box-sizing: border-box; line-height: 0.6rem;">
                                                Mi perfil
                                            </a>
                                        </div>
                                        <div class="border-top px-0 py-2">
                                            <a th:href="@{'UsuarioFinal/solicitudAgente?idUsuario=' + ${usuario.id}}" data-bs-toggle="modal" data-bs-target="#addRequestAgent"
                                               style="display: block; width: 100%; padding: 0.75rem; text-align: center; box-sizing: border-box; line-height: 0.6rem;">
                                                Solicitar ser agente
                                            </a>
                                        </div>
                                        <div class="border-top px-0 py-2" th:if="${session['isImpersonating'] == null}">
                                            <a th:href="@{/ExpressDealsController}"
                                               style="display: block; width: 100%; padding: 0.75rem; text-align: center; box-sizing: border-box; line-height: 0.6rem;">
                                                Cerrar sesión
                                            </a>
                                        </div>

                                    </div>
                                </li>


                                <div class="list-inline-item d-inline-block d-lg-none">
                                    <button class="navbar-toggler collapsed" type="button" data-bs-toggle="offcanvas" data-bs-target="#navbar-default" aria-controls="navbar-default" aria-label="Toggle navigation">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-text-indent-left text-primary" viewBox="0 0 16 16">
                                            <path d="M2 3.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm.646 2.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L4.293 8 2.646 6.354a.5.5 0 0 1 0-.708zM7 6.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 3a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm-5 3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z" />
                                        </svg>
                                    </button>
                                </div>


                            </ul>


                        </div>
                    </div>
                </div>
            </div>
        </div>

        <nav class="navbar navbar-expand-lg navbar-light navbar-default py-0 pb-lg-4">
            <div class="container">
                <div class="offcanvas offcanvas-start" tabindex="-1" id="navbar-default" aria-labelledby="navbar-defaultLabel">
                    <div class="offcanvas-header pb-1">
                        <a th:href="@{/UsuarioFinal}" ><img th:src="@{/images/logo/logoGTICSv2.png}" alt="" width="200" height="auto" />
                        </a>
                        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                    </div>
                    <div class="offcanvas-body">
                        <div class="d-block d-lg-none mb-4">
                            <div class="dropdown me-3 d-none d-lg-block">
                                <button class="btn btn-primary px-6" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                           <span class="me-1">
                              <svg
                                      xmlns="http://www.w3.org/2000/svg"
                                      width="16"
                                      height="16"
                                      viewBox="0 0 24 24"
                                      fill="none"
                                      stroke="currentColor"
                                      stroke-width="1.2"
                                      stroke-linecap="round"
                                      stroke-linejoin="round"
                                      class="feather feather-grid">
                                 <rect x="3" y="3" width="7" height="7"></rect>
                                 <rect x="14" y="3" width="7" height="7"></rect>
                                 <rect x="14" y="14" width="7" height="7"></rect>
                                 <rect x="3" y="14" width="7" height="7"></rect>
                              </svg>
                           </span>
                                    Todas las categorías
                                </button>
                                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                                    <li th:each="categoria : ${categorias}">
                                        <a class="dropdown-item" th:href="@{'/UsuarioFinal/categorias/' + ${categoria.id}}">
                                            <span th:text="${categoria.nombreCategoria}"></span>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            <div>
                                <ul class="navbar-nav align-items-center">
                                    <li class="nav-item dropdown w-100 w-lg-auto">
                                        <a class="nav-link " th:href="@{/UsuarioFinal/pagPrincipal}"   aria-expanded="false">Inicio</a>

                                    </li>
                                    <li class="nav-item dropdown w-100 w-lg-auto">
                                        <a class="nav-link " th:href="@{/UsuarioFinal/listaProductos}" aria-expanded="false">Productos</a>

                                    </li>
                                    <li class="nav-item dropdown w-100 w-lg-auto">
                                        <a class="nav-link " th:href="@{/UsuarioFinal/listaMisOrdenes}"  aria-expanded="false">Mis compras</a>

                                    </li>
                                    <li class="nav-item dropdown w-100 w-lg-auto">
                                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Foro</a>
                                        <ul class="dropdown-menu">
                                            <li><a class="dropdown-item" th:href="@{/UsuarioFinal/Review}">Reseñas</a></li>
                                            <li><a class="dropdown-item" th:href="@{/UsuarioFinal/faq}">Preguntas frecuentes</a></li>

                                        </ul>
                                    </li>
                                    <li class="nav-item dropdown w-100 w-lg-auto">
                                        <a class="nav-link " th:href="@{/UsuarioFinal/chatbot}" role="button" data-bs-toggle="dropdown" aria-expanded="false">Soporte Técnico</a>
                                    </li>
                                    <li class="nav-item dropdown w-100 w-lg-auto" th:if="${session['isImpersonating'] != null}">
                                        <a class="nav-link" href="/revertImpersonation">Regresar</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
    </div>

    <!--- fin navbar pantallas pequeñas -->

    <!--- modal postular a agente -->
    <div class="modal fade" id="addRequestAgent" tabindex="-1" aria-labelledby="addAddressModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <!-- modal body -->
                <div class="modal-body p-6">
                    <div class="d-flex justify-content-between mb-5">
                        <!-- heading -->
                        <div>
                            <h5 class="h6 mb-1" id="addAddressModalLabel">Solicitud de agente</h5>
                            <p class="small mb-0">Ingresa tus datos </p>
                        </div>
                        <div>
                            <!-- button -->
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                    </div>
                    <!-- row -->
                    <form class="row g-3" method="post" th:action="@{/UsuarioFinal/solicitudAgente}">
                        <!-- Información personal -->
                        <div class="col-12">
                            <label for="ContactName" class="form-label">Información personal</label>
                            <input type="text" class="form-control" th:value="${usuario.nombre}" aria-label="Nombre del contacto" disabled />
                        </div>
                        <!-- Dirección -->
                        <div class="col-12">
                            <label for="direction" class="form-label">Dirección</label>
                            <input type="text" class="form-control" th:value="${usuario.direccion}" aria-label="Dirección" disabled />
                        </div>
                        <!-- Zona -->
                        <div class="col-12">
                            <label for="zone" class="form-label">Zona</label>
                            <input type="text" class="form-control" th:value="${usuario.zona.nombreZona}" aria-label="Zona" disabled />
                        </div>
                        <!-- Distrito -->
                        <div class="col-12">
                            <label for="district" class="form-label">Distrito</label>
                            <input type="text" class="form-control" th:value="${usuario.distrito.nombre}" aria-label="Distrito" disabled />
                        </div>
                        <!-- Código de jurisdicción -->
                        <div class="col-12">
                            <label for="codigoJurisdiccion" class="form-label">Código de jurisdicción</label>
                            <input type="text" class="form-control" th:value="${usuario.distrito.codigojurisdiccion}" aria-label="Codigo de jurisdiccion" disabled />
                        </div>
                        <!-- Código de aduana -->
                        <div class="col-12">
                            <label for="codigoAduana" class="form-label">Código de aduana</label>
                            <input type="text" class="form-control" name="codigoAduana" placeholder="Ingrese su código de Aduana" required />
                        </div>

                        <!-- Botones -->
                        <div class="col-12 text-end">
                            <button type="button" class="btn btn-outline-primary" data-bs-dismiss="modal">Cancelar</button>
                            <button class="btn btn-primary" type="submit">Enviar solicitud</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- CARRITO DE COMPRAS -->
    <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
        <div class="offcanvas-header border-bottom">
            <div class="text-start">
                <h5 id="offcanvasRightLabel" class="mb-0 fs-4">Carrito de Compras</h5>
            </div>
            <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <div>
                <!-- alert -->
                <div class="alert alert-danger p-2" role="alert">
                    Tenemos los mejores productos.
                    <a th:href="@{UsuarioFinal/listaProductos}" class="alert-link">Ve a la sección proceso de compras ya!</a>
                </div>
                <ul class="list-group list-group-flush" id="cart-items">
                    <li th:if="${productosCarrito.isEmpty()}" class="list-group-item" id="empty-cart-message" style="display: none;">El carrito está vacío.</li>


                </ul>

                <!-- btn -->
                <div class="d-flex justify-content-between mt-4">
                    <a th:href="@{/UsuarioFinal/listaProductos}" class="btn btn-primary">Continuar comprando</a>
                    <a th:href="@{/UsuarioFinal/procesoCompra}" class="btn btn-dark">Ir a Proceso de Compra</a>
                </div>
            </div>
        </div>
    </div>

    <script th:src="@{/js/vendors/validation.js}"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const searchInput = document.getElementById('searchInput');
            const searchHistory = document.getElementById('searchHistory');
            const historyItems = document.getElementById('historyItems');
            const emptyHistory = document.getElementById('emptyHistory');
            const clearHistory = document.getElementById('clearHistory');
            const maxHistoryItems = 5;

            let searches = JSON.parse(sessionStorage.getItem('searchHistory')) || [];

            function getTimeLabel(timestamp) {
                const now = new Date();
                const searchTime = new Date(timestamp);
                const diffMinutes = Math.floor((now - searchTime) / (1000 * 60));

                if (diffMinutes < 1) return 'Hace un momento';
                if (diffMinutes < 60) return `Hace ${diffMinutes} minutos`;
                if (diffMinutes < 1440) {
                    const hours = Math.floor(diffMinutes / 60);
                    return `Hace ${hours} ${hours === 1 ? 'hora' : 'horas'}`;
                }
                return searchTime.toLocaleDateString();
            }

            clearHistory.addEventListener('click', function(e) {
                e.stopPropagation();  // Detiene la propagación del evento
                e.preventDefault();   // Evita que se envíe el formulario

                // Limpiar el historial de búsqueda en sessionStorage
                searches = [];
                sessionStorage.removeItem('searchHistory');

                // Limpiar el campo de búsqueda (input)
                searchInput.value = '';

                // Actualizar la vista para que el historial aparezca como vacío
                updateHistoryDisplay();

                // No se envía el formulario de búsqueda
            });



            searchInput.form.addEventListener('submit', function(e) {
                const searchTerm = searchInput.value.trim();
                if (searchTerm) {
                    searches = [{
                        term: searchTerm,
                        timestamp: new Date().toISOString()
                    }, ...searches.filter(item => item.term !== searchTerm)]
                        .slice(0, maxHistoryItems);
                    sessionStorage.setItem('searchHistory', JSON.stringify(searches));
                }
            });

            searchInput.addEventListener('focus', function() {
                updateHistoryDisplay();
                searchHistory.style.display = 'block';
                setTimeout(() => searchHistory.classList.add('show'), 10);
            });

            document.addEventListener('click', function(e) {
                if (!searchInput.contains(e.target) && !searchHistory.contains(e.target)) {
                    searchHistory.classList.remove('show');
                    setTimeout(() => {
                        searchHistory.style.display = 'none';
                    }, 200);
                }
            });

            function updateHistoryDisplay() {
                if (searches.length === 0) {
                    historyItems.innerHTML = '';
                    emptyHistory.style.display = 'block';
                    return;
                }

                emptyHistory.style.display = 'none';
                historyItems.innerHTML = searches.map(item => `
            <div class="history-item p-3 d-flex align-items-center justify-content-between">
                <div class="d-flex align-items-center flex-grow-1">
                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-search text-secondary me-3" viewBox="0 0 16 16">
                        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.415l-3.85-3.85a1.007 1.007 0 0 0-.115-.098zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                    </svg>
                    <div>
                        <div class="search-term">${item.term}</div>
                        <small class="text-muted">${getTimeLabel(item.timestamp)}</small>
                    </div>
                </div>
                <button class="btn btn-link btn-sm text-decoration-none text-muted p-0 ms-2 repeat-search">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-return-left" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M14.5 1.5a.5.5 0 0 1 .5.5v4.8a2.5 2.5 0 0 1-2.5 2.5H2.707l3.347 3.346a.5.5 0 0 1-.708.708l-4.2-4.2a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 8.3H12.5A1.5 1.5 0 0 0 14 6.8V2a.5.5 0 0 1 .5-.5z"/>
                    </svg>
                </button>
            </div>
        `).join('');

                document.querySelectorAll('.history-item').forEach((item, index) => {
                    item.addEventListener('click', function(e) {
                        if (!e.target.closest('.repeat-search')) {
                            searchInput.value = searches[index].term;
                            searchHistory.style.display = 'none';
                            searchInput.form.submit();
                        }
                    });

                    const repeatButton = item.querySelector('.repeat-search');
                    if (repeatButton) {
                        repeatButton.addEventListener('click', function(e) {
                            e.stopPropagation();
                            searchInput.value = searches[index].term;
                            searchHistory.style.display = 'none';
                            searchInput.form.submit();
                        });
                    }
                });
            }

            const style = document.createElement('style');
            style.textContent = `
        #searchHistory {
            opacity: 0;
            transform: translateY(-10px);
            transition: opacity 0.2s ease, transform 0.2s ease;
        }
        #searchHistory.show {
            opacity: 1;
            transform: translateY(0);
        }
        .history-item {
            transition: all 0.2s ease;
            border-bottom: 1px solid #f0f0f0;
            background-color: white;
        }
        .history-item:hover {
            background-color: #f8f9fa;
        }
        .history-item:last-child {
            border-bottom: none;
        }
        .search-term {
            color: #333;
            font-size: 0.95em;
            margin-bottom: 2px;
        }
        .history-header {
            border-bottom: 1px solid #dee2e6;
        }
        #clearHistory {
            color: #6c757d;
            transition: color 0.2s ease;
        }
        #clearHistory:hover {
            color: #dc3545;
 .repeat-search {
            opacity: 0;
            transition: opacity 0.2s ease;
        }
        .history-item:hover .repeat-search {
            opacity: 1;
        }
        .fade-out {
            opacity: 0 !important;
            transform: translateY(-10px) !important;
        }
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .btn-link:focus {
            box-shadow: none;
        }
        small.text-muted {
            font-size: 0.75em;
        }
    `;
            document.head.appendChild(style);
        });
    </script>

</div>



</body>
</html>
